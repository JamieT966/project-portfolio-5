{% extends "base.html" %}
{% load static %}

{% block extra_title %}- Thanks for Ordering{% endblock %}

{% block content %}
<div class="cover">
    <div class="col text-center p-3">
        <h2 class="product-heading">Thanks for choosing Chemstore!</h2>
        <p class="off-white-text">Your order information is below and a confirmation email will be sent to <strong>{{ order.email }}</strong></p>
    </div>

    <div class="col-10 col-md-8 col-lg-6 mx-auto product-container container navy-text p-2 rounded-3 mb-3">
        <div class="row">
            <div class="col-12">
                <div class="p-2">
                    <div class="row">
                        <div class="col">
                            <p class="green-text text-decoration-underline"><strong>Order Info:</strong></p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12 col-md-4">
                            <p class="mb-1"><strong>Order Number:</strong></p>
                        </div>
                        <div class="col-12 col-md-8 text-md-end">
                            <p class="mb-1">{{ order.order_number }}</p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12 col-md-4">
                            <p class="mb-1"><strong>Order Date:</strong></p>
                        </div>
                        <div class="col-12 col-md-8 text-md-end">
                            <p class="mb-1">{{ order.date }}</p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">
                            <p class="green-text mt-1 text-decoration-underline"><strong>Order Details:</strong></p>
                        </div>
                    </div>

                    {% for item in order.lineitems.all %}
                    <div class="row">
                        <div class="col-12 col-md-8">
                            <p class="mb-1">
                                <strong>{{ item.product.name }}{% if item.product_size %} - Size {{ item.product.size|upper }}{% endif %}</strong>
                            </p>
                        </div>
                        <div class="col-12 col-md-4 text-md-end">
                            <p class="mb-1">{{ item.quantity }} @ ${{ item.product.price }} each</p>
                        </div>
                    </div>
                    {% endfor %}

                    <div class="row">
                        <div class="col">
                            <p class="green-text mt-1 text-decoration-underline"><strong>Delivering To:</strong></p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12 col-md-4">
                            <p class="mb-1"><strong>Full Name:</strong></p>
                        </div>
                        <div class="col-12 col-md-8 text-md-end">
                            <p class="mb-0">{{ order.full_name }}</p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12 col-md-4">
                            <p class="mb-1"><strong>Phone Number:</strong></p>
                        </div>
                        <div class="col-12 col-md-8 text-md-end">
                            <p class="mb-0">{{ order.phone_number }}</p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12 col-md-4">
                            <p class="mb-1"><strong>Address Line 1:</strong></p>
                        </div>
                        <div class="col-12 col-md-8 text-md-end">
                            <p class="mb-0">{{ order.street_address1 }}</p>
                        </div>
                    </div>

                    {% if order.street_address2 %}
                    <div class="row">
                        <div class="col-12 col-md-4">
                            <p class="mb-1"><strong>Address Line 2:</strong></p>
                        </div>
                        <div class="col-12 col-md-8 text-md-end">
                            <p class="mb-0">{{ order.street_address2 }}</p>
                        </div>
                    </div>
                    {% endif %}

                    <div class="row">
                        <div class="col-12 col-md-4">
                            <p class="mb-1"><strong>Town or City:</strong></p>
                        </div>
                        <div class="col-12 col-md-8 text-md-end">
                            <p class="mb-0">{{ order.town_or_city }}</p>
                        </div>
                    </div>

                    {% if order.county %}
                    <div class="row">
                        <div class="col-12 col-md-4">
                            <p class="mb-1"><strong>County:</strong></p>
                        </div>
                        <div class="col-12 col-md-8 text-md-end">
                            <p class="mb-0">{{ order.county }}</p>
                        </div>
                    </div>
                    {% endif %}

                    {% if order.eircode %}
                    <div class="row">
                        <div class="col-12 col-md-4">
                            <p class="mb-1"><strong>Eircode:</strong></p>
                        </div>
                        <div class="col-12 col-md-8 text-md-end">
                            <p class="mb-0">{{ order.eircode }}</p>
                        </div>
                    </div>
                    {% endif %}

                    <div class="row">
                        <div class="col-12 col-md-4">
                            <p class="mb-1"><strong>Country:</strong></p>
                        </div>
                        <div class="col-12 col-md-8 text-md-end">
                            <p class="mb-0">{{ order.country }}</p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">
                            <p class="green-text mt-1 text-decoration-underline"><strong>Amount Charged:</strong></p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12 col-md-4">
                            <p class="mb-1"><strong>Order Total:</strong></p>
                        </div>
                        <div class="col-12 col-md-8 text-md-end">
                            <p class="mb-0">€ {{ order.order_total }}</p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12 col-md-4">
                            <p class="mb-1"><strong>Delivery:</strong></p>
                        </div>
                        <div class="col-12 col-md-8 text-md-end">
                            <p class="mb-0">€ {{ order.delivery_cost }}</p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12 col-md-4">
                            <p class="mb-1"><strong>Total Cost:</strong></p>
                        </div>
                        <div class="col-12 col-md-8 text-md-end">
                            <p class="mb-0">€ {{ order.grand_total }}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row mx-0">
        <div class="col-12 mx-auto">
            {% if from_profile %}
                <a class="d-flex justify-content-center text-decoration-none" href="{% url 'profile' %}">
                    <button type="button" class="btn add-to-btn">Return to Profile</button>
                </a>
            {% else %}
                <p class="off-white-text text-center">To view more Chemstore products click the button below.</p>
                <a class="d-flex justify-content-center text-decoration-none" href="{% url 'products' %}">
                    <button type="button" class="btn add-to-btn">View Products</button>
                </a>
            {% endif %}
        </div>
        
    </div>
</div>

{% endblock %}